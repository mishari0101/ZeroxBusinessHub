<div class="register-wrapper fade-in-up">
  <div class="row g-0 h-100">
    
    <!-- Left Side: Image & Welcome -->
    <div class="col-md-5 d-none d-md-flex align-items-center justify-content-center left-panel">
      <div class="text-center content-box">
        <h2 class="fw-bold text-white mb-2">Join Us!</h2>
        <p class="text-white-50 mb-4">Create an account and start your journey.</p>
        <img src="assets/img/loginlogo.png" alt="Join Us" class="img-fluid floating-rocket">
      </div>
    </div>

    <!-- Right Side: Registration Form -->
    <div class="col-md-7 d-flex align-items-center justify-content-center right-panel">
      <div class="form-box w-75 py-4">
        <h3 class="fw-bold mb-1 text-dark">Create Account</h3>
        <p class="text-muted small mb-4">Please fill in your details to register.</p>

        <form #registerForm="ngForm" (ngSubmit)="onSubmit()">
          
          <!-- Error Message -->
          <div *ngIf="errorMessage" class="alert alert-danger p-2 small mb-3">
            {{ errorMessage }}
          </div>

          <!-- Full Name -->
          <div class="mb-3">
            <input type="text" class="form-control custom-input" placeholder="Full Name"
                   name="fullName" [(ngModel)]="model.fullName" required [disabled]="isLoading">
          </div>

          <!-- Contact Info -->
          <div class="mb-3">
            <input type="text" class="form-control custom-input" placeholder="Email or Phone Number"
                   name="email" [(ngModel)]="model.email" required [disabled]="isLoading">
            <small class="text-muted ms-2" style="font-size: 11px;">We'll send a code to verify this.</small>
          </div>

          <!-- District Dropdown (Customer Only) -->
          <div class="mb-3" *ngIf="model.role === 'Customer'">
            <select class="form-select custom-input" name="district" [(ngModel)]="model.district" required [disabled]="isLoading">
              <option value="" disabled selected>Select Your District</option>
              <option *ngFor="let dist of districts" [value]="dist">{{ dist }}</option>
            </select>
          </div>

          <!-- Password Row -->
          <div class="row mb-3">
            <div class="col-6">
              <input type="password" class="form-control custom-input" placeholder="Password"
                     name="password" [(ngModel)]="model.password" required [disabled]="isLoading">
            </div>
            <div class="col-6">
              <input type="password" class="form-control custom-input" placeholder="Confirm"
                     name="confirmPassword" [(ngModel)]="model.confirmPassword" required [disabled]="isLoading">
            </div>
          </div>

          <!-- Role Selection -->
          <label class="small text-muted fw-bold mb-2 d-block">I am a:</label>
          <div class="d-flex gap-3 mb-4">
            
            <div class="role-option flex-fill">
              <input type="radio" name="role" value="Customer" id="roleCust" [(ngModel)]="model.role" hidden [disabled]="isLoading">
              <label for="roleCust" class="role-card">
                <span class="role-icon">ðŸ‘¤</span>
                <span>Customer</span>
              </label>
            </div>

            <div class="role-option flex-fill">
              <input type="radio" name="role" value="BusinessOwner" id="roleBiz" [(ngModel)]="model.role" hidden [disabled]="isLoading">
              <label for="roleBiz" class="role-card">
                <span class="role-icon">ðŸ’¼</span>
                <span>Business</span>
              </label>
            </div>
          </div>

          <!-- ðŸ”¥ UPDATED REGISTER BUTTON -->
          <button type="submit" class="btn btn-primary w-100 custom-btn mb-3" [disabled]="!registerForm.form.valid || isLoading">
            <span *ngIf="!isLoading">REGISTER</span>
            <span *ngIf="isLoading">REGISTERING...</span>
          </button>

          <div class="text-center small">
            Already have an account? <a routerLink="/login" class="fw-bold text-primary text-decoration-none">Login</a>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>